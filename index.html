<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0b0d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>McGill Big 3</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="assets/icons/icon-512.png">
    <link rel="apple-touch-icon" href="assets/icons/icon-512.png">
    <link rel="stylesheet" href="css/tokens.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/app.css">
</head>

<body>
    <!-- Cable Background -->
    <div class="cable-system">
        <div class="cable"></div>
        <div class="cable"></div>
        <div class="cable"></div>
    </div>

    <div id="app">
        <!-- ===== WORKOUT PAGE ===== -->
        <section class="page active" id="page-workout">
            <header class="page-header">
                <p class="label" id="greeting">Good evening</p>
                <h1 id="exerciseName">McGill Big 3</h1>
            </header>

            <!-- Last Session Card (like Hevy) -->
            <div class="last-session-card hidden" id="lastSessionCard">
                <div class="last-session-header">
                    <span class="last-session-label">Last Session</span>
                    <span class="last-session-date" id="lastSessionDate"></span>
                </div>
                <div class="last-session-details">
                    <div class="session-stat">
                        <span class="session-stat-value" id="lastLevel">Standard</span>
                        <span class="session-stat-label">Level</span>
                    </div>
                    <div class="session-stat">
                        <span class="session-stat-value" id="lastPyramid">5-3-1</span>
                        <span class="session-stat-label">Pyramid</span>
                    </div>
                    <div class="session-stat">
                        <span class="session-stat-value" id="lastHold">10s</span>
                        <span class="session-stat-label">Hold</span>
                    </div>
                </div>
            </div>

            <!-- Weekly Consistency -->
            <div class="consistency-card" id="consistencyCard">
                <div class="consistency-header">
                    <span class="consistency-label">This Week</span>
                    <span class="consistency-score" id="weeklyScore">0/7</span>
                </div>
                <div class="consistency-bar">
                    <div class="consistency-fill" id="consistencyFill"></div>
                </div>
            </div>

            <!-- Level Badge & Settings -->
            <div class="level-bar" id="levelBar">
                <button class="level-badge" id="levelBadge">
                    <span class="level-name">Standard</span>
                    <span class="level-desc">5-3-1 × 10s</span>
                </button>
                <label class="bad-day-toggle">
                    <input type="checkbox" id="badDayMode">
                    <span class="toggle-label">Bad Day</span>
                </label>
            </div>

            <!-- Exercise Selection -->
            <div class="exercise-list" id="exerciseList">
                <div class="exercise-item" data-exercise="curl-up">
                    <span class="exercise-icon" data-info="curl-up"></span>
                    <div class="exercise-info">
                        <div class="exercise-name">Curl-Up</div>
                        <div class="exercise-meta" data-meta="curl-up">5-3-1 × 10s</div>
                    </div>
                    <span class="exercise-status">—</span>
                </div>
                <div class="exercise-item" data-exercise="side-plank">
                    <span class="exercise-icon" data-info="side-plank"></span>
                    <div class="exercise-info">
                        <div class="exercise-name">Side Plank</div>
                        <div class="exercise-meta" data-meta="side-plank">5-3-1 × 10s (L+R)</div>
                    </div>
                    <span class="exercise-status">—</span>
                </div>
                <div class="exercise-item" data-exercise="bird-dog">
                    <span class="exercise-icon" data-info="bird-dog"></span>
                    <div class="exercise-info">
                        <div class="exercise-name">Bird-Dog</div>
                        <div class="exercise-meta" data-meta="bird-dog">5-3-1 × 10s (L+R)</div>
                    </div>
                    <span class="exercise-status">—</span>
                </div>
            </div>

            <!-- Timer View (hidden by default) -->
            <div class="timer-view hidden" id="timerView">
                <section class="chronometer">
                    <div class="stage-indicator" id="stageText">Tension Loading</div>
                    <div class="cable-gauge">
                        <div class="cable-core"></div>
                        <div class="tension-sleeve" id="tensionSleeve"></div>
                        <div class="timer-display" id="timerDisplay">10</div>
                    </div>
                </section>

                <div class="stats-grid">
                    <div class="stat-card">
                        <p class="label">Rep</p>
                        <p class="stat-value" id="repCount">01 / 05</p>
                    </div>
                    <div class="stat-card">
                        <p class="label">Phase</p>
                        <p class="stat-value" id="phaseLabel">HOLD</p>
                    </div>
                    <div class="stat-card">
                        <p class="label">Side</p>
                        <p class="stat-value" id="sideLabel">—</p>
                    </div>
                    <div class="stat-card">
                        <p class="label">Set</p>
                        <p class="stat-value" id="setLabel">1 / 3</p>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn btn-primary" id="btnStart">Initiate</button>
                    <button class="btn btn-secondary" id="btnStop">Stop</button>
                </div>
            </div>

            <!-- Workout Complete View -->
            <div class="workout-complete hidden" id="workoutComplete">
                <div class="complete-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4" />
                        <circle cx="12" cy="12" r="10" />
                    </svg>
                </div>
                <h2 class="complete-title">Exercise Complete!</h2>
                <p class="complete-message" id="completeMessage">Great work!</p>
                <div class="complete-stats">
                    <div class="stat-card">
                        <p class="label">Duration</p>
                        <p class="stat-value" id="completeDuration">0:00</p>
                    </div>
                    <div class="stat-card">
                        <p class="label">Progress</p>
                        <p class="stat-value" id="completeProgress">1/3</p>
                    </div>
                </div>
                <div class="complete-actions" id="completeActions">
                    <!-- Generated by JS -->
                </div>
            </div>

            <!-- Level Selector Modal -->
            <div class="modal hidden" id="levelModal">
                <div class="modal-content">
                    <h2>Select Level</h2>
                    <div class="level-options" id="levelOptions"></div>
                    <button class="btn btn-secondary modal-close" id="closeLevelModal">Cancel</button>
                </div>
            </div>

            <!-- Exercise Instructions Modal -->
            <div class="modal hidden" id="instructionsModal">
                <div class="modal-content">
                    <h2 id="instructionsTitle">Exercise</h2>
                    <div class="instructions-body" id="instructionsBody"></div>
                    <button class="btn btn-primary modal-close" id="closeInstructions">Got It</button>
                </div>
            </div>
        </section>

        <!-- ===== PROGRESS PAGE ===== -->
        <section class="page" id="page-progress">
            <header class="page-header">
                <p class="label">Performance Metrics</p>
                <h1>Progress</h1>
            </header>

            <div class="stats-grid" style="margin-bottom: var(--space-xl);">
                <div class="stat-card">
                    <p class="label">Current Streak</p>
                    <p class="stat-value text-hold" id="streakCount">0 days</p>
                </div>
                <div class="stat-card">
                    <p class="label">Total Sessions</p>
                    <p class="stat-value" id="totalSessions">0</p>
                </div>
            </div>

            <div class="stats-grid" style="margin-bottom: var(--space-xl);">
                <div class="stat-card">
                    <p class="label">Sessions at Level</p>
                    <p class="stat-value" id="levelSessions">0</p>
                </div>
                <div class="stat-card">
                    <p class="label">Next Level In</p>
                    <p class="stat-value" id="nextLevelIn">—</p>
                </div>
            </div>

            <p class="label" style="margin-bottom: var(--space-sm);">Last 28 Days</p>
            <div class="calendar-grid" id="calendarGrid"></div>

            <div class="stats-grid">
                <div class="stat-card">
                    <p class="label">This Week</p>
                    <p class="stat-value" id="weekCount">0 / 7</p>
                </div>
                <div class="stat-card">
                    <p class="label">This Month</p>
                    <p class="stat-value" id="monthCount">0 / 28</p>
                </div>
            </div>

            <!-- Level Up Banner -->
            <div class="level-up-banner hidden" id="levelUpBanner">
                <p>Ready to level up!</p>
                <button class="btn btn-primary" id="btnLevelUp">Advance Level</button>
            </div>
        </section>

        <!-- ===== PAIN LOG PAGE ===== -->
        <section class="page" id="page-pain">
            <header class="page-header">
                <p class="label">Spinal Health Tracking</p>
                <h1>Pain Log</h1>
            </header>

            <div class="pain-gauge" id="painGauge">
                <div class="pain-fill" id="painFill"></div>
                <div class="pain-value" id="painValue">5</div>
            </div>

            <div class="pain-controls">
                <button class="pain-btn" id="painDown">−</button>
                <button class="pain-btn" id="painUp">+</button>
            </div>

            <!-- Symptoms -->
            <p class="label" style="margin-bottom: var(--space-sm);">Symptoms</p>
            <div class="symptom-grid" id="symptomGrid">
                <button class="symptom-btn" data-symptom="pain">Pain</button>
                <button class="symptom-btn" data-symptom="numbness">Numbness</button>
                <button class="symptom-btn" data-symptom="tingling">Tingling</button>
                <button class="symptom-btn" data-symptom="weakness">Weakness</button>
            </div>

            <!-- Location -->
            <p class="label" style="margin-bottom: var(--space-sm); margin-top: var(--space-md);">Location</p>
            <div class="location-grid" id="locationGrid">
                <button class="location-btn" data-location="lower-back">Lower Back</button>
                <button class="location-btn" data-location="left-leg">Left Leg</button>
                <button class="location-btn" data-location="right-leg">Right Leg</button>
                <button class="location-btn" data-location="buttock">Buttock</button>
            </div>

            <div class="controls" style="margin-bottom: var(--space-xl);">
                <button class="btn btn-primary" id="btnLogPain">Log Entry</button>
            </div>

            <p class="label" style="margin-bottom: var(--space-sm);">Recent Entries</p>
            <div class="history-list" id="painHistory"></div>
        </section>

        <!-- ===== SETTINGS PAGE ===== -->
        <section class="page" id="page-settings">
            <header class="page-header">
                <p class="label">Configuration</p>
                <h1>Settings</h1>
            </header>

            <div class="settings-section">
                <p class="label" style="margin-bottom: var(--space-md);">Workout</p>

                <div class="setting-row">
                    <span class="setting-name">Hold Duration</span>
                    <div class="setting-slider">
                        <input type="range" id="settingHold" min="5" max="60" value="10">
                        <span class="slider-value" id="holdValue">10s</span>
                    </div>
                </div>

                <div class="setting-row">
                    <span class="setting-name">Rest Duration</span>
                    <div class="setting-slider">
                        <input type="range" id="settingRest" min="3" max="30" value="5">
                        <span class="slider-value" id="restValue">5s</span>
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <p class="label" style="margin-bottom: var(--space-md);">Feedback</p>

                <div class="setting-row">
                    <span class="setting-name">Sound Effects</span>
                    <input type="checkbox" id="settingSound" checked class="toggle-input">
                </div>

                <div class="setting-row">
                    <span class="setting-name">Vibration</span>
                    <input type="checkbox" id="settingVibration" checked class="toggle-input">
                </div>
            </div>

            <div class="settings-section">
                <button class="btn btn-secondary" id="btnResetSettings">Reset to Defaults</button>
            </div>

            <p class="app-version">McGill Big 3 V2</p>
        </section>
    </div>

    <!-- Settings FAB -->
    <button class="settings-fab" id="settingsFab">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3" />
            <path
                d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83" />
        </svg>
    </button>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-page="workout">
            <svg viewBox="0 0 24 24">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
            Workout
        </button>
        <button class="nav-item" data-page="progress">
            <svg viewBox="0 0 24 24">
                <path d="M3 3v18h18M9 17V9m4 8v-5m4 5V6" />
            </svg>
            Progress
        </button>
        <button class="nav-item" data-page="pain">
            <svg viewBox="0 0 24 24">
                <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z" />
                <path d="M12 6v6l4 2" />
            </svg>
            Pain Log
        </button>
    </nav>

    <script src="js/storage.js"></script>
    <script src="js/exercises.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/app.js"></script>
</body>

</html>